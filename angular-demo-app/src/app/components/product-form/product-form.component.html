<h3>Add a new product details</h3>

<!-- angular creates an instance of a class called NgForm for the html form. -->
<!-- we can get a reference to the same by using #varName="ngForm" -->

<form (submit)="save()" #f1="ngForm">
  <div class="form-group row">
    <label for="productName" class="col-sm-4 col-form-label">Name</label>
    <div class="col-sm-8">
      <input
        autofocus
        type="text"
        class="form-control"
        id="productName"
        name="productName"
        [(ngModel)]="product.name"
        required
        minlength="4"
        maxlength="15"
        #pname="ngModel"
      />

      <div class="text-danger" *ngIf="pname.dirty && pname.errors">
        <div *ngIf="pname.errors.required">
          Product name is required, but missing.
        </div>
        <div *ngIf="pname.errors.minlength">
          Minimum {{ pname.errors.minlength.requiredLength }} letters are
          required, but only {{ pname.errors.minlength.actualLength }} given
        </div>
      </div>
    </div>
  </div>

  <div class="form-group row">
    <label for="productDesc" class="col-sm-4 col-form-label">Description</label>
    <div class="col-sm-8">
      <input
        type="text"
        class="form-control"
        id="productDesc"
        name="productDesc"
        [(ngModel)]="product.description"
        required
      />
    </div>
  </div>

  <div class="form-group row">
    <label for="productCategory" class="col-sm-4 col-form-label"
      >Category</label
    >
    <div class="col-sm-5">
      <input
        type="text"
        class="form-control"
        id="productCategory"
        name="productCategory"
        [(ngModel)]="product.category"
      />
    </div>
  </div>

  <div class="form-group row">
    <label for="productBrand" class="col-sm-4 col-form-label">Brand</label>
    <div class="col-sm-5">
      <!-- <input
        type="text"
        class="form-control"
        id="productBrand"
        name="productBrand"
        [(ngModel)]="product.brand"
      /> -->

      <select name="productBrand" id="productBrand" [(ngModel)]="product.brand">
        <option *ngFor="let b of brands" [value]="b">
          {{ b }}
        </option>
      </select>
    </div>
  </div>

  <div class="form-group row">
    <label for="productQPU" class="col-sm-4 col-form-label"
      >Quantity per unit</label
    >
    <div class="col-sm-8">
      <input
        type="text"
        class="form-control"
        id="productQPU"
        name="productQPU"
        [(ngModel)]="product.quantity_per_unit"
      />
    </div>
  </div>

  <div class="form-group row">
    <label for="productUnitPrice" class="col-sm-4 col-form-label"
      >Unit price</label
    >
    <div class="col-sm-3">
      <input
        type="text"
        class="form-control"
        id="productUnitPrice"
        name="productUnitPrice"
        [(ngModel)]="product.unit_price"
        pattern="^[0-9]*$"
        required
      />
    </div>
  </div>

  <div class="form-group row">
    <label for="productDiscount" class="col-sm-4 col-form-label"
      >Discount</label
    >
    <div class="col-sm-3">
      <input
        type="text"
        class="form-control"
        id="productDiscount"
        name="productDiscount"
        [(ngModel)]="product.discount"
        pattern="^\d{0,2}$"
      />
    </div>
  </div>

  <div class="form-group row">
    <label for="productPicture" class="col-sm-4 col-form-label">Picture</label>
    <div class="col-sm-8">
      <input
        type="text"
        class="form-control"
        id="productPicture"
        name="productPicture"
        [(ngModel)]="product.picture"
      />
    </div>
  </div>

  <div class="form-group row">
    <label class="col-sm-4 col-form-label"></label>
    <div class="col-sm-8">
      <button
        [disabled]="f1.invalid"
        class="btn"
        [ngClass]="{ 'btn-primary': f1.valid, 'btn-danger': f1.invalid }"
      >
        Save details
      </button>
    </div>
  </div>
</form>
